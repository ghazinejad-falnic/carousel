<!DOCTYPE html>
<html lang="fa">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>داغ‌ترین‌ها</title>
    <!-- <link rel="stylesheet" href="./new.css"> -->
    <style>
        @font-face {
            font-family: dana;
            src: url('./fonts/DanaVF.ttf');
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: dana, sans-serif;
            direction: rtl;
            text-align: right;
        }

        a {
            text-decoration: none;
        }

        .carousel {
            overflow: hidden;
            width: 100%;
            position: relative;
            z-index: 1;
            height: 200px;
        }

        .carousel--wrapper {
            counter-reset: count;
            display: flex;
            position: absolute;
            z-index: 1;
            height: 100%;
            top: 0;
            left: 0;
            width: 100%;
        }

        .carousel--item {
            counter-increment: count;
            position: absolute;
            z-index: 1;
            top: 0;
            left: 0;
            padding: 0 1.5vw;
            overflow: hidden;
        }

        @media (max-width: 767px) {
            .carousel--item {
                width: 40vw;
                height: 40vw;
            }
        }

        .carousel--item a {
            /* position: absolute; */
            z-index: 1;
            display: block;
            user-select: none;
            -webkit-appearance: none;
            padding: 0;
            border: none;
            outline: none;
            box-shadow: none;
            cursor: pointer;
            overflow: hidden;
            pointer-events: none;
            transform-origin: center;
            font-family: dana, sans-serif;
            font-weight: 400;
            font-size: 14px;
            color: #333;
            padding: 9px 25px;
            border-radius: 30px;
            background-color: #F5F5F5;
            text-align: center;
            font-weight: 450;
        }

        .carousel--item a img {
            position: absolute;
            z-index: 1;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            vertical-align: middle;
            transform-origin: center;
        }
    </style>
</head>

<body>
    <div class="carousel">
        <ul class="carousel--wrapper">
            <li class="carousel--item">
                <a href="#">گوشی ارزان شیائومی</a>
            </li>

            <li class="carousel--item">
                <a href="#">گوشی آیفون</a>
            </li>

            <li class="carousel--item">
                <a href="#">آیفون 17</a>
            </li>

            <li class="carousel--item">
                <a href="#">لپ تاپ گیمینگ</a>
            </li>

            <li class="carousel--item">
                <a href="#">گوشی سامسونگ</a>
            </li>

            <li class="carousel--item">
                <a href="#">لپ تاپ لمسی</a>
            </li>

            <li class="carousel--item">
                <a href="#">لپ تاپ دانشجویی</a>
            </li>

            <li class="carousel--item">
                <a href="#">اسپیکر</a>
            </li>

            <li class="carousel--item">
                <a href="#">تلویزیون</a>
            </li>

            <li class="carousel--item">
                <a href="#">هندزفری</a>
            </li>
        </ul>
    </div>

    <script>
        /* -------------------- Vars -------------------- */
        const $carousel = document.querySelector('.carousel');
        const $items = document.querySelectorAll('.carousel--item');
        let itemWidth = $items[0].clientWidth;
        let wrapWidth = $items.length * itemWidth;

        let scrollY = 0;
        let y = 0;

        /* --------------------
        Lerp
        -------------------- */
        const lerp = (v0, v1, t) => {
            return v0 * (1 - t) + v1 * t;
        };

        const Ja = (t, e) => {
            return t || t === 0 ? e(t) : e;
        };
        const wrap = (e, t, r) => {
            const i = t - e;
            return Ja(r, function (t) {
                return (i + (t - e) % i) % i + e;
            });
        };
        /* --------------------
        Dispose
        -------------------- */
        const dispose = (scroll) => {
            $items.forEach((el, i) => {
                const x = `${i * itemWidth + scroll}`;
                const s = wrap(-itemWidth, wrapWidth - itemWidth, parseInt(x));
                el.style.transform = `translate(${s}px, 0px)`;

            });
        };
        dispose(0);

        /* --------------------
        Touch
        -------------------- */
        let touchStart = 0;
        let touchX = 0;
        let isDragging = false;
        const handleTouchStart = (e) => {
            touchStart = e.clientX || e.touches[0].clientX;
            isDragging = true;
        };
        const handleTouchMove = (e) => {
            if (!isDragging) return;
            touchX = e.clientX || e.touches[0].clientX;
            scrollY += (touchX - touchStart) * 1;
            touchStart = touchX;
        };
        const handleTouchEnd = () => {
            isDragging = false;
        };

        /* --------------------
        Listeners
        -------------------- */

        $carousel.addEventListener('touchstart', handleTouchStart);
        $carousel.addEventListener('touchmove', handleTouchMove);
        $carousel.addEventListener('touchend', handleTouchEnd);

        $carousel.addEventListener('mousedown', handleTouchStart);
        $carousel.addEventListener('mousemove', handleTouchMove);
        $carousel.addEventListener('mouseleave', handleTouchEnd);
        $carousel.addEventListener('mouseup', handleTouchEnd);

        $carousel.addEventListener('selectstart', () => { return false; });

        /* --------------------
        Resize
        -------------------- */
        window.addEventListener('resize', () => {
            itemWidth = $items[0].clientWidth;
            wrapWidth = $items.length * itemWidth;
        });

        /* --------------------
        Render
        -------------------- */
        const render = () => {
            requestAnimationFrame(render);
            y = lerp(y, scrollY, 1);
            dispose(y);
        };
        render();

    </script>
</body>

</html>